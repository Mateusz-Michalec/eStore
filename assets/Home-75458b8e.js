import{r as t,u as _e,a as Me,c as ze,b as P,d as de,j as e,e as Pe,f as De,g as Oe,h as Ae,i as le,t as Le,m as ce,A as ue,T as Be,k as He,l as Xe,n as Ke,C as We,L as S,o as Fe,p as Ue,q as Ze}from"./index-5fbd5c71.js";import{g as Ge,a as Qe}from"./MathUtils-a71e7da3.js";import{R as Ve,B as qe}from"./Row-6b98ae14.js";function Ye(a,o){var i=t.useRef(!0);t.useEffect(function(){if(i.current){i.current=!1;return}return a()},o)}var U=Math.pow(2,31)-1;function me(a,o,i){var u=i-Date.now();a.current=u<=U?setTimeout(o,u):setTimeout(function(){return me(a,o,i)},U)}function Je(){var a=_e(),o=t.useRef();return Me(function(){return clearTimeout(o.current)}),t.useMemo(function(){var i=function(){return clearTimeout(o.current)};function u(d,c){c===void 0&&(c=0),a()&&(i(),c<=U?o.current=setTimeout(d,c):me(o,d,Date.now()+c))}return{set:u,clear:i}},[])}const es=ze("carousel-caption"),he=t.forwardRef(({as:a="div",bsPrefix:o,className:i,...u},d)=>{const c=P(i,de(o,"carousel-item"));return e.jsx(a,{ref:d,...u,className:c})});he.displayName="CarouselItem";const ss=he,ts=40;function ns(a){if(!a||!a.style||!a.parentNode||!a.parentNode.style)return!1;const o=getComputedStyle(a);return o.display!=="none"&&o.visibility!=="hidden"&&getComputedStyle(a.parentNode).display!=="none"}const fe=t.forwardRef(({defaultActiveIndex:a=0,...o},i)=>{const{as:u="div",bsPrefix:d,slide:c=!0,fade:g=!1,controls:_=!0,indicators:E=!0,indicatorLabels:C=[],activeIndex:r,onSelect:m,onSlide:h,onSlid:b,interval:I=5e3,keyboard:Z=!0,onKeyDown:D,pause:w="hover",onMouseOver:O,onMouseOut:A,wrap:T=!0,touch:G=!0,onTouchStart:L,onTouchMove:B,onTouchEnd:H,prevIcon:xe=e.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:Q="Previous",nextIcon:pe=e.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:V="Next",variant:q,className:je,children:X,...be}=Pe({defaultActiveIndex:a,...o},{activeIndex:"onSelect"}),p=de(d,"carousel"),y=De(),k=t.useRef(null),[Y,J]=t.useState("next"),[ve,M]=t.useState(!1),[R,ee]=t.useState(!1),[l,Ne]=t.useState(r||0);t.useEffect(()=>{!R&&r!==l&&(k.current?J(k.current):J((r||0)>l?"next":"prev"),c&&ee(!0),Ne(r||0))},[r,R,l,c]),t.useEffect(()=>{k.current&&(k.current=null)});let v=0,se;Oe(X,(s,n)=>{++v,n===r&&(se=s.props.interval)});const te=Ae(se),f=t.useCallback(s=>{if(R)return;let n=l-1;if(n<0){if(!T)return;n=v-1}k.current="prev",m==null||m(n,s)},[R,l,m,T,v]),x=le(s=>{if(R)return;let n=l+1;if(n>=v){if(!T)return;n=0}k.current="next",m==null||m(n,s)}),K=t.useRef();t.useImperativeHandle(i,()=>({element:K.current,prev:f,next:x}));const ne=le(()=>{!document.hidden&&ns(K.current)&&(y?f():x())}),N=Y==="next"?"start":"end";Ye(()=>{c||(h==null||h(l,N),b==null||b(l,N))},[l]);const ge=`${p}-item-${Y}`,Ce=`${p}-item-${N}`,we=t.useCallback(s=>{Le(s),h==null||h(l,N)},[h,l,N]),ye=t.useCallback(()=>{ee(!1),b==null||b(l,N)},[b,l,N]),ke=t.useCallback(s=>{if(Z&&!/input|textarea/i.test(s.target.tagName))switch(s.key){case"ArrowLeft":s.preventDefault(),y?x(s):f(s);return;case"ArrowRight":s.preventDefault(),y?f(s):x(s);return}D==null||D(s)},[Z,D,f,x,y]),Re=t.useCallback(s=>{w==="hover"&&M(!0),O==null||O(s)},[w,O]),Se=t.useCallback(s=>{M(!1),A==null||A(s)},[A]),ae=t.useRef(0),z=t.useRef(0),re=Je(),Ee=t.useCallback(s=>{ae.current=s.touches[0].clientX,z.current=0,w==="hover"&&M(!0),L==null||L(s)},[w,L]),Ie=t.useCallback(s=>{s.touches&&s.touches.length>1?z.current=0:z.current=s.touches[0].clientX-ae.current,B==null||B(s)},[B]),Te=t.useCallback(s=>{if(G){const n=z.current;Math.abs(n)>ts&&(n>0?f(s):x(s))}w==="hover"&&re.set(()=>{M(!1)},I||void 0),H==null||H(s)},[G,w,f,x,re,I,H]),ie=I!=null&&!ve&&!R,W=t.useRef();t.useEffect(()=>{var s,n;if(!ie)return;const j=y?f:x;return W.current=window.setInterval(document.visibilityState?ne:j,(s=(n=te.current)!=null?n:I)!=null?s:void 0),()=>{W.current!==null&&clearInterval(W.current)}},[ie,f,x,te,I,ne,y]);const oe=t.useMemo(()=>E&&Array.from({length:v},(s,n)=>j=>{m==null||m(n,j)}),[E,v,m]);return e.jsxs(u,{ref:K,...be,onKeyDown:ke,onMouseOver:Re,onMouseOut:Se,onTouchStart:Ee,onTouchMove:Ie,onTouchEnd:Te,className:P(je,p,c&&"slide",g&&`${p}-fade`,q&&`${p}-${q}`),children:[E&&e.jsx("div",{className:`${p}-indicators`,children:ce(X,(s,n)=>e.jsx("button",{type:"button","data-bs-target":"","aria-label":C!=null&&C.length?C[n]:`Slide ${n+1}`,className:n===l?"active":void 0,onClick:oe?oe[n]:void 0,"aria-current":n===l},n))}),e.jsx("div",{className:`${p}-inner`,children:ce(X,(s,n)=>{const j=n===l;return c?e.jsx(Be,{in:j,onEnter:j?we:void 0,onEntered:j?ye:void 0,addEndListener:He,children:($,$e)=>t.cloneElement(s,{...$e,className:P(s.props.className,j&&$!=="entered"&&ge,($==="entered"||$==="exiting")&&"active",($==="entering"||$==="exiting")&&Ce)})}):t.cloneElement(s,{className:P(s.props.className,j&&"active")})})}),_&&e.jsxs(e.Fragment,{children:[(T||r!==0)&&e.jsxs(ue,{className:`${p}-control-prev`,onClick:f,children:[xe,Q&&e.jsx("span",{className:"visually-hidden",children:Q})]}),(T||r!==v-1)&&e.jsxs(ue,{className:`${p}-control-next`,onClick:x,children:[pe,V&&e.jsx("span",{className:"visually-hidden",children:V})]})]})]})});fe.displayName="Carousel";const F=Object.assign(fe,{Caption:es,Item:ss});function os(){const[a,o]=t.useState(!1),[i,u]=t.useState(null),[d,c]=t.useState([]),{data:g}=Xe(),{data:_,isLoading:E,isSuccess:C}=Ke();return t.useEffect(()=>{if(C){u(Ge(_));const r=Qe(5);c(r.map(m=>{const h=_.find(b=>b.id===m);if(h)return{id:h.id,title:h.title,image:h.image}}).filter(Boolean))}},[C]),e.jsx(e.Fragment,{children:e.jsxs(We,{children:[e.jsxs(S,{to:"/club",className:"text-center mb-4 d-block",children:["Chcesz 10% rabatu i bezpłatne dostawy?",e.jsx("br",{}),"Zostań Klubowiczem!"]}),e.jsx("div",{className:"position-relative p-0",children:e.jsxs(S,{to:"/products/category/jewelery",children:[e.jsxs("div",{className:"home__hero-body position-absolute top-25 w-100 text-center text-main",children:[e.jsx("h2",{className:"mb-1",children:"Przygotuj się na lato"}),e.jsx("p",{className:"mb-5",children:"Modne dodatki w atrakcyjnych cenach."})]}),e.jsx("img",{src:Fe.hero,className:"w-100 home__hero-img",alt:"Plaża"})]})}),e.jsxs("section",{className:"text-center section-1-bg mt-4 p-4",children:[e.jsxs("h5",{className:"text-main",children:["Odśwież swoją szafę na lato!",e.jsx("br",{}),"Nowe produkty w niższych cenach"]}),e.jsx("p",{className:"text-secondary fs-7 mb-0",children:"Oferta tylko dla Klubowiczów. Obowiązuje na wybrane produkty do 3.05.2023. Nie łączy się z innymi promocjami."}),g?e.jsx("button",{className:"mt-4",type:"button",onClick:()=>o(!a),"aria-controls":"categories","aria-expanded":a,children:e.jsx("i",{className:"bi bi-plus-circle fs-2 text-main"})}):null]}),e.jsx("section",{children:e.jsx(Ue,{in:a,className:"section-1-bg",children:e.jsx("div",{id:"categories",className:"p-0",children:g==null?void 0:g.map(r=>e.jsx(Ve,{children:e.jsx(S,{to:`/products/category/${r}`,children:e.jsxs(Ze,{className:"d-flex home__category-col p-3 justify-content-between align-items-center",children:[e.jsx("span",{className:"m-0 d-inline-block",children:r}),e.jsx("button",{type:"button",children:e.jsx("i",{className:"bi bi-chevron-right fs-5"})})]})})},`${r}-home`))})})}),e.jsxs("section",{className:"mt-5",children:[e.jsx("h4",{className:"mb-5 text-center ",children:"Zainspiruj się"}),E?e.jsx("div",{className:"loader"}):d.length>0?e.jsx(F,{className:"mx-auto",children:d.map(r=>e.jsx(F.Item,{children:e.jsxs(S,{to:`/products/${r.id}`,children:[e.jsx("img",{className:"d-block w-100 home__carousel-item",src:r.image,alt:r.title}),e.jsx(F.Caption,{className:"text-dark bg-white p-3 border rounded",children:e.jsx("h5",{className:"m-0",children:r.title})})]})},r.id))}):null]}),e.jsxs("section",{className:"section-2-bg text-white p-4 text-center mt-5",children:[e.jsx("h3",{className:"ls-2 ",children:"Newsletter"}),e.jsxs("p",{children:["Zapisz się do naszego newslettera!",e.jsx("br",{}),"Nie ominie Cię żadna okazja oraz nowości!"]}),e.jsx(S,{to:"/newsletter",children:e.jsx(qe,{variant:"outline-light link",children:"Zapisz się do Newslettera"})})]}),i?e.jsx("section",{className:"mt-5 mb-4 border border-2 p-4",children:e.jsxs(S,{to:`/products/${i==null?void 0:i.id}`,children:[e.jsx("img",{className:"d-block mx-auto home__carousel-item img-contain",src:i.image,alt:i.title}),e.jsx("h3",{className:"text-center mt-4 mb-0",children:"Na fali"})]})}):e.jsx("div",{className:"loader"})]})})}export{os as default};
