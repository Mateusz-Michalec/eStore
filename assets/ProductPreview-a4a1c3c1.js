import{r as n,aa as V,c as R,d as x,j as a,b as g,ab as Ie,ac as Ee,a7 as Fe,i as W,f as Te,a as De,ad as z,ae as Ae,af as Pe,ag as q,ah as Le,a4 as Oe,U as He,ai as Ue,aj as We,L as G,s as ze,w as _e,ak as Ke,al as Ve,D as _}from"./index-ac86e50b.js";import{B as qe}from"./Row-1a16fe8d.js";function Ge(){return n.useState(null)}var v;function K(e){if((!v&&v!==0||e)&&V){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),v=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return v}const Je=R("modal-body"),J=n.forwardRef(({bsPrefix:e,className:t,contentClassName:s,centered:l,size:r,fullscreen:d,children:c,scrollable:f,...p},i)=>{e=x(e,"modal");const u=`${e}-dialog`,h=typeof d=="string"?`${e}-fullscreen-${d}`:`${e}-fullscreen`;return a.jsx("div",{...p,ref:i,className:g(u,t,r&&`${e}-${r}`,l&&`${u}-centered`,f&&`${u}-scrollable`,d&&h),children:a.jsx("div",{className:g(`${e}-content`,s),children:c})})});J.displayName="ModalDialog";const Q=J,Qe=R("modal-footer"),X=n.forwardRef(({bsPrefix:e,className:t,closeLabel:s="Close",closeButton:l=!1,...r},d)=>(e=x(e,"modal-header"),a.jsx(Ie,{ref:d,...r,className:g(t,e),closeLabel:s,closeButton:l})));X.displayName="ModalHeader";const Xe=X,Ye=Ee("h4"),Ze=R("modal-title",{Component:Ye});function et(e){return a.jsx(q,{...e,timeout:null})}function tt(e){return a.jsx(q,{...e,timeout:null})}const Y=n.forwardRef(({bsPrefix:e,className:t,style:s,dialogClassName:l,contentClassName:r,children:d,dialogAs:c=Q,"aria-labelledby":f,"aria-describedby":p,"aria-label":i,show:u=!1,animation:h=!0,backdrop:j=!0,keyboard:ae=!0,onEscapeKeyDown:k,onShow:oe,onHide:M,container:se,autoFocus:ne=!0,enforceFocus:le=!0,restoreFocus:re=!0,restoreFocusOptions:de,onEntered:ie,onExit:S,onExiting:ce,onEnter:B,onEntering:I,onExited:E,backdropClassName:F,manager:T,...ue},he)=>{const[fe,me]=n.useState({}),[ge,D]=n.useState(!1),N=n.useRef(!1),b=n.useRef(!1),w=n.useRef(null),[y,pe]=Ge(),we=Fe(he,pe),A=W(M),ye=Te();e=x(e,"modal");const je=n.useMemo(()=>({onHide:A}),[A]);function P(){return T||Le({isRTL:ye})}function L(o){if(!V)return;const m=P().getScrollbarWidth()>0,U=o.scrollHeight>He(o).documentElement.clientHeight;me({paddingRight:m&&!U?K():void 0,paddingLeft:!m&&U?K():void 0})}const $=W(()=>{y&&L(y.dialog)});De(()=>{z(window,"resize",$),w.current==null||w.current()});const Me=()=>{N.current=!0},ve=o=>{N.current&&y&&o.target===y.dialog&&(b.current=!0),N.current=!1},O=()=>{D(!0),w.current=Ue(y.dialog,()=>{D(!1)})},xe=o=>{o.target===o.currentTarget&&O()},Ne=o=>{if(j==="static"){xe(o);return}if(b.current||o.target!==o.currentTarget){b.current=!1;return}M==null||M()},be=o=>{ae?k==null||k(o):(o.preventDefault(),j==="static"&&O())},$e=(o,m)=>{o&&L(o),B==null||B(o,m)},Ce=o=>{w.current==null||w.current(),S==null||S(o)},Re=(o,m)=>{I==null||I(o,m),Oe(window,"resize",$)},ke=o=>{o&&(o.style.display=""),E==null||E(o),z(window,"resize",$)},Se=n.useCallback(o=>a.jsx("div",{...o,className:g(`${e}-backdrop`,F,!h&&"show")}),[h,F,e]),H={...s,...fe};H.display="block";const Be=o=>a.jsx("div",{role:"dialog",...o,style:H,className:g(t,e,ge&&`${e}-static`,!h&&"show"),onClick:j?Ne:void 0,onMouseUp:ve,"aria-label":i,"aria-labelledby":f,"aria-describedby":p,children:a.jsx(c,{...ue,onMouseDown:Me,className:l,contentClassName:r,children:d})});return a.jsx(Ae.Provider,{value:je,children:a.jsx(Pe,{show:u,ref:we,backdrop:j,container:se,keyboard:!0,autoFocus:ne,enforceFocus:le,restoreFocus:re,restoreFocusOptions:de,onEscapeKeyDown:be,onShow:oe,onHide:M,onEnter:$e,onEntering:Re,onEntered:ie,onExit:Ce,onExiting:ce,onExited:ke,manager:P(),transition:h?et:void 0,backdropTransition:h?tt:void 0,renderBackdrop:Se,renderDialog:Be})})});Y.displayName="Modal";const C=Object.assign(Y,{Body:Je,Header:Xe,Title:Ze,Footer:Qe,Dialog:Q,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function Z({animation:e,bg:t,bsPrefix:s,size:l,...r}){s=x(s,"placeholder");const[{className:d,...c}]=We(r);return{...c,className:g(d,e?`${s}-${e}`:s,l&&`${s}-${l}`,t&&`bg-${t}`)}}const ee=n.forwardRef((e,t)=>{const s=Z(e);return a.jsx(qe,{...s,ref:t,disabled:!0,tabIndex:-1})});ee.displayName="PlaceholderButton";const at=ee,te=n.forwardRef(({as:e="span",...t},s)=>{const l=Z(t);return a.jsx(e,{...l,ref:s})});te.displayName="Placeholder";const rt=Object.assign(te,{Button:at});function ot({path:e,children:t,condition:s}){return s?a.jsx(G,{to:e,children:t}):a.jsx(a.Fragment,{children:t})}function st({product:e,component:t}){const s=ze(),[l,r]=n.useState(!1),d=()=>r(!1),c=()=>r(!0),f=_e(u=>Ke(u,e.id)),p=()=>{s(Ve(e.id)),s(f?_("UsuniÄ™to produkt z ulubionych!","favorites"):_("Dodano produkt do ulubionych!","favorites"))};let i;switch(t){case"Product":i="product-photo--big";break;case"ProductsInCategory":i="product-photo--medium";break;default:i="product-photo--small"}return a.jsxs(a.Fragment,{children:[t==="Product"?a.jsxs(C,{size:"lg",centered:!0,show:l,onHide:d,children:[a.jsx(C.Header,{closeButton:!0}),a.jsx(C.Body,{children:a.jsx("img",{src:e.image,alt:e.title,className:"w-100"})})]}):null,a.jsxs("section",{className:`${t==="Cart"?"":"border shadow-sm d-flex position-relative align-items-center justify-content-center h-100"} 
        `,children:[a.jsx(ot,{path:`/products/${e.id}`,condition:t!=="Product",children:a.jsx("img",{className:`product-photo w-100 ${i} mx-auto my-4 d-block 
                `,src:e.image,alt:e.title,onClick:t==="Product"?c:null})}),t!=="Cart"?a.jsx("button",{className:"position-absolute top-0 end-0 py-3 px-4",onClick:()=>p(),children:a.jsx("i",{className:`bi ${t==="Favorites"?"bi-trash":f?"text-danger bi-heart-fill":"bi-heart"} fs-5`})}):null]})]})}function dt({product:e,component:t}){return a.jsxs("div",{children:[a.jsx(st,{product:e,component:t}),a.jsxs("section",{children:[a.jsx("div",{className:"product-preview__title mt-1",children:a.jsx(G,{to:`/products/${e.id}`,children:e.title})}),t!=="LastVieved"?a.jsxs("p",{className:"fs-7 mb-0 text-main",children:[e.price," PLN"]}):null]})]})}export{C as M,st as P,dt as a,rt as b,Ge as u};
