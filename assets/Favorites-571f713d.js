import{s as g,r as x,w as l,y as v,j as s,q as f,S as h,B as y,D as j,E as b,F as S,n as N,G as P}from"./index-f00cf1f8.js";import{S as w}from"./Sizes-fd9e58d7.js";import{a as k,b as n}from"./ProductPreview-878bb0a3.js";import{B as F,R as B}from"./Row-f5a775e4.js";import{P as E}from"./PageHeader-3e1c67a4.js";import{E as C}from"./Empty-5a86ae69.js";import{c as A}from"./ProductDataManipulation-baf850fe.js";import"./MathUtils-a71e7da3.js";function D({product:e,component:r}){const t=g(),[a,o]=x.useState(e.sizes?"":null),d=l(c=>v(c,e.id,a));function m(){a!=="Wybierz rozmiar"&&a?(t(y({id:e.id,size:a,sizeQuantity:d})),t(j("Produkt dodany do koszyka!","cart"))):a===null?(t(y({id:e.id,available:e.available})),t(j("Produkt dodany do koszyka!","cart"))):o("Wybierz rozmiar")}return s.jsx(f,{xs:12,md:6,xl:4,xxl:3,children:s.jsxs("article",{className:"product-preview",children:[s.jsx(k,{product:e,component:r}),s.jsxs(h,{direction:"horizontal",gap:3,className:"mt-2 justify-content-center",children:[e.sizes?s.jsx(w,{component:r,sizes:e.sizes,selectedSize:a,handleSizeSelect:c=>o(c.currentTarget.id)}):null,s.jsxs(F,{variant:a==="Wybierz rozmiar"&&e.sizes||a===""&&e.sizes?"secondary":"dark",className:"py-2 rounded-0 w-50",onClick:()=>m(),children:[s.jsx("i",{className:"bi bi-bag me-2 text-white"}),s.jsx("strong",{children:"Dodaj"})]})]})]})})}function L(){return s.jsxs(f,{xs:12,md:6,xl:4,xxl:3,className:"glow favorite-product-placeholder",children:[s.jsx(n,{bg:"secondary",className:"w-100 d-flex justify-content-center opacity-25",children:s.jsx("i",{className:"bi bi-camera d-block favorite-product-placeholder__photo opacity-75"})}),s.jsxs(h,{className:"mt-2 opacity-25",children:[s.jsx(n,{bg:"secondary",className:"w-75"}),s.jsx(n,{size:"sm",bg:"secondary",className:"w-25 mt-1"})]}),s.jsxs(h,{direction:"horizontal",gap:3,className:"mt-2 opacity-25",children:[s.jsx(n.Button,{variant:"secondary",className:"w-50  py-2  mt-1 rounded-0"}),s.jsx(n.Button,{variant:"secondary",className:"w-50  py-2  mt-1 rounded-0"})]})]})}function H(){const e=l(b),r=l(S),{data:t,isLoading:a,isSuccess:o}=N(),d=l(P),[m,c]=x.useState([]),z=()=>e.map(i=>{const u=t==null?void 0:t.find(p=>p.id===i);if(u)return A(u,d[u.id])});return x.useEffect(()=>{o&&c(z)},[o,e]),s.jsxs(s.Fragment,{children:[s.jsx(C,{arrayLength:r,title:"Brak ulubionych"}),s.jsx(E,{title:"Ulubione",arrayLength:r}),s.jsx("section",{children:s.jsx(B,{className:"gy-5 gx-4",children:a?e.map(i=>s.jsx(L,{},i)):m.map(i=>s.jsx(D,{product:i,component:"Favorites"},i.id))})})]})}export{H as default};
